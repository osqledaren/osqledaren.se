var App={Views:{},Models:{},Collections:{},Router:{}};App.Models.PodModel=Backbone.Model.extend({initialize:function(e){}}),App.Views.SelectedPodView=Backbone.View.extend({initialize:function(){this.templateID=$("#SelectedPodView")},tagName:function(){return $("#SelectedPodView").data("tag")},attributes:function(){return{"class":$("#SelectedPodView").data("class")}},template:function(e){var t=$("#SelectedPodView").html(),i=Handlebars.compile(t);return i(e)},render:function(){this.$el.html(this.template(this.model.toJSON())),height=this.$el.find(".content").height(),this.$el.find(".pod_bg_wrapper").height(height+75),this.$el.find(".pod_bg").height(height+105),this.$el.hide()},show:function(){this.$el.fadeIn(1e3)},hide:function(){this.$el.hide()}}),App.Views.PodView=Backbone.View.extend({initialize:function(){this.templateID=$("#PodView"),this.selectedPodView=new App.Views.SelectedPodView({model:this.model}),this.render()},tagName:function(){return $("#PodView").data("tag")},attributes:function(){return{"class":$("#PodView").data("class")}},events:{click:"selected"},selected:function(){this.trigger("selected",this)},showSelected:function(){this.$el.find(".pod_selected").toggle(),this.selectedPodView.show()},hideSelected:function(){this.$el.find(".pod_selected").toggle(),this.selectedPodView.hide()},template:function(e){var t=this.templateID.html(),i=Handlebars.compile(t);return i(e)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}});var AppRouter=Backbone.Router.extend({initialize:function(){var e=this;this.allPods=[];var t=0;$.getJSON("podcast/podcast.json",function(i){if(i)for(var d=0;d<i.length;d+=1){if(e.allPods[d]=new App.Views.PodView({model:new App.Models.PodModel(i[d])}),$("#insertPods").append(e.allPods[d].el),e.allPods[d].$el.hide().fadeIn(1e3),0!==d&&(d==i.length-1||(d+1)%4==0))for(;d>=t;)$("#insertPods").append(e.allPods[t].selectedPodView.el),e.allPods[t].selectedPodView.render(),t+=1;e.allPods[d].on("selected",function(t){e.selectedPod&&e.selectedPod.hideSelected(),e.selectedPod!=t?(e.selectedPod=t,e.selectedPod.showSelected()):e.selectedPod=!1},e)}})}});$(document).ready(function(){var e=new AppRouter});